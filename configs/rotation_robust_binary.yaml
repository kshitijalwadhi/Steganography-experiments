# Data Configuration
data:
  root_dir: ./data
  cover_dataset: CIFAR10
  secret_type: binary  # Switch back to binary secrets
  secret_dataset: null # Not applicable for binary
  image_folder_cover: null
  image_folder_secret: null 
  image_size: 64
  num_workers: 4
  # secret_length is handled internally by PairedDataset for binary images (H*W)

# Model Configuration
model:
  prep_out_channels: 32
  # HideNet input channels: 3 (cover) + prep_out_channels (32) = 35
  hide_in_channels: 35  
  # reveal_out_channels is set dynamically in models.py (will be 1 for binary)

# Training Configuration
training:
  batch_size: 32
  epochs: 2 # Adjust as needed
  lr: 1e-4
  lam_hide: 0.75  # Weight for hiding loss (MSE)
  lam_reveal: 1.0  # Weight for reveal loss (BCEWithLogitsLoss for binary, applied to aligned secret)
  checkpoint_dir: ./outputs/checkpoints/rotation-robust-binary
  checkpoint_freq: 5  # Save every N epochs
  val_freq: 1  # Validate every N epochs
  device: auto  # Options: auto, cuda, cpu
  wandb:
    enabled: true
    project: "deep-steganography-rotation"
    entity: null # Your wandb username or team name
    run_name: "rotation-robust-binary-inv-v1"

# Rotation Training Configuration
rotation:
  enabled: true
  # Probability of applying each rotation during training
  probs: [0.25, 0.25, 0.25, 0.25]  # [0째, 90째, 180째, 270째]
  rotation_angles: [0, 90, 180, 270]

# Evaluation Configuration
evaluation:
  batch_size: 32
  # Metrics: psnr/ssim compare cover and stego
  # secret_acc_aligned will be calculated in the test script
  metrics: [psnr, ssim] 

# Embedding/Extraction Configuration
embed:
  cover_image: null
  secret_image: null # Binary secrets generated on the fly
  output_image: ./outputs/stego_rotation_robust_binary.png
  # Checkpoint path used by test_rotation and experiment_rotation modes
  checkpoint_path: ./outputs/checkpoints/rotation-robust-binary/best_checkpoint.pth 

extract:
  stego_image: null
  output_secret: ./outputs/revealed_secret_rotation_robust_binary.png
  checkpoint_path: ./outputs/checkpoints/rotation-robust-binary/best_checkpoint.pth 